.game-scene{width:100%;height:100%;position:relative;overflow:hidden;-webkit-user-select:none;user-select:none}.game-background{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;z-index:0}.game-content{position:relative;z-index:1;width:100%;height:100%;display:flex;flex-direction:column;padding:15px}.toolbar{background:#fffffff2;border-radius:12px;padding:12px 15px;margin-bottom:15px;box-shadow:0 4px 15px #00000026;display:flex;align-items:center;gap:15px;max-width:700px;margin-left:auto;margin-right:auto;flex-wrap:wrap;justify-content:center}.toolbar-section{display:flex;align-items:center;gap:10px}.toolbar-title{font-weight:700;color:#2c5e2e;font-size:14px;white-space:nowrap}.toolbar-divider{width:1px;height:40px;background:#ddd}.toolbar-flowers{display:flex;gap:8px}.toolbar-flower{width:45px;height:45px;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:grab;transition:all .2s ease;border:2px solid transparent;box-shadow:0 2px 5px #0000001a}.toolbar-flower:hover{transform:scale(1.1)}.toolbar-flower:active{cursor:grabbing}.toolbar-flower-selected{border-color:#2e7d32;box-shadow:0 0 0 3px #2e7d324d}.toolbar-flower-name{font-size:10px;color:#fff;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.toolbar-water{display:flex;align-items:center;gap:8px;padding:8px 15px;background:#e3f2fd;border:2px solid #bbdefb;border-radius:8px;cursor:grab;transition:all .2s ease}.toolbar-water:hover{background:#bbdefb;transform:scale(1.05)}.toolbar-water:active{cursor:grabbing}.toolbar-water-selected{border-color:#1976d2;background:#90caf9}.toolbar-water-icon{width:24px;height:24px}.toolbar-water span{font-size:13px;color:#1565c0;font-weight:500}.toolbar-harvest{display:flex;align-items:center;gap:8px;padding:8px 15px;background:#fff8e1;border:2px solid #ffecb3;border-radius:8px;cursor:grab;transition:all .2s ease}.toolbar-harvest:hover{background:#ffecb3;transform:scale(1.05)}.toolbar-harvest:active{cursor:grabbing}.toolbar-harvest-selected{border-color:#ffa000;background:#ffca28}.toolbar-harvest-icon{font-size:18px}.toolbar-harvest span{font-size:13px;color:#f57c00;font-weight:500}.toolbar-section-status{flex-direction:column;gap:5px}.toolbar-current{font-size:12px;color:#2e7d32;font-weight:500;background:#e8f5e9;padding:4px 10px;border-radius:15px}.toolbar-clear{padding:4px 12px;background:#ffebee;border:1px solid #ffcdd2;border-radius:5px;color:#c62828;font-size:11px;cursor:pointer}.garden-container{flex:1;display:flex;align-items:center;justify-content:center;position:relative}.pot-grid-wrapper{position:relative;background:#5d4037;border-radius:10px;padding:15px;width:360px;height:670px;box-shadow:inset 0 0 20px #0000004d}.pot-grid-wrapper:before{content:"";position:absolute;left:15px;right:15px;top:0;bottom:0;background:repeating-linear-gradient(to bottom,transparent 0px,transparent 79px,#8B6914 79px,#8B6914 84px,transparent 84px,transparent 91px);pointer-events:none;z-index:0}.pot-grid{display:grid;grid-template-columns:repeat(4,75px);grid-template-rows:repeat(7,85px);gap:6px;padding:0;position:relative;z-index:1}.pot{width:75px;height:85px;cursor:pointer;transition:transform .15s ease;position:relative}.pot:hover{transform:scale(1.05)}.pot:active{transform:scale(.95)}.pot-drop-target{transform:scale(1.15);filter:brightness(1.2)}.pot-container{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-end}.pot-base{width:65px;height:65px;object-fit:contain;filter:drop-shadow(1px 2px 3px rgba(0,0,0,.3));z-index:2;position:relative}.pot-flower-image{position:absolute;bottom:25px;left:50%;transform:translate(-50%);width:50px;height:50px;object-fit:contain;z-index:1;animation:flowerGrow .3s ease-out}.pot-flower-image[src*=seed]{bottom:20px;width:30px;height:30px}.pot-flower-image[src*=growing],.pot-flower-image[src*=sprout]{bottom:28px;width:40px;height:40px}.pot-flower-image[src*=bloom]{bottom:30px;width:55px;height:55px}@keyframes flowerGrow{0%{transform:translate(-50%) scale(0);opacity:0}to{transform:translate(-50%) scale(1);opacity:1}}.pot-status{position:absolute;bottom:-5px;left:50%;transform:translate(-50%);font-size:10px;padding:2px 8px;border-radius:10px;white-space:nowrap;z-index:4;font-weight:700}.pot-status-seeded{background:#8d6e63;color:#fff;border:1px solid #6D4C41}.pot-status-bloomed{background:#e91e63;color:#fff;border:1px solid #C2185B;font-size:14px}.game-hint{text-align:center;color:#fffffff2;font-size:13px;padding:10px 15px;text-shadow:1px 1px 2px rgba(0,0,0,.5);background:#00000040;border-radius:20px;margin-top:auto;max-width:400px;margin-left:auto;margin-right:auto}.drag-indicator{position:fixed;pointer-events:none;z-index:1000;transform:translate(-50%,-50%)}.drag-seed{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:18px;box-shadow:0 4px 15px #0000004d;animation:pulse .5s infinite}.drag-water{width:50px;height:50px;display:flex;align-items:center;justify-content:center;animation:pulse .5s infinite}.drag-water img{width:45px;height:45px}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.picker-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:100}.picker-modal{background:#fff;border-radius:16px;padding:20px;max-width:350px;width:90%;box-shadow:0 10px 40px #0000004d}.picker-title{text-align:center;color:#2c5e2e;margin-bottom:15px;font-size:18px}.picker-options{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:15px}.picker-option{display:flex;flex-direction:column;align-items:center;padding:15px;border:2px solid #e0e0e0;border-radius:12px;background:#f9f9f9;cursor:pointer;transition:all .2s ease}.picker-option:hover{border-color:#4caf50;background:#f0f8f0;transform:translateY(-2px)}.picker-icon{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;color:#fff;margin-bottom:8px}.picker-name{color:#333;font-size:14px;font-weight:500}.picker-cancel{width:100%;padding:12px;border:none;border-radius:10px;background:#e0e0e0;color:#666;font-size:14px;cursor:pointer}.picker-flower-modal{max-width:450px}.picker-header{text-align:center;margin-bottom:15px}.picker-flower-modal .picker-title{margin-bottom:5px}.picker-hint{font-size:12px;color:#888}.picker-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-bottom:15px}.picker-flower-btn{display:flex;flex-direction:column;align-items:center;padding:10px 5px;border:2px solid #e0e0e0;border-radius:12px;background:#f9f9f9;cursor:pointer;transition:all .2s ease}.picker-flower-btn:hover{border-color:#4caf50;background:#f0f8f0;transform:scale(1.05)}.picker-flower-btn.selected{border-color:#4caf50;background:#e8f5e9}.picker-flower-icon{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:14px;font-weight:700;margin-bottom:5px}.picker-flower-name{font-size:10px;color:#333}.picker-cancel:hover{background:#d0d0d0}@media (max-width: 600px){.pot-grid{gap:4px;padding:10px}.pot{width:60px;height:70px}.pot-base{width:52px;height:52px}.pot-flower-image{width:35px;height:35px;bottom:38px}.pot-flower-bloom .pot-flower-image{width:40px;height:40px;bottom:40px}.toolbar{padding:10px;gap:10px}.toolbar-flower{width:38px;height:38px}.toolbar-flower-name{font-size:8px}}.inventory{position:absolute;top:15px;right:15px;background:#fffffff2;border-radius:12px;padding:12px 15px;box-shadow:0 4px 15px #00000026;min-width:140px}.inventory-title{font-weight:700;color:#5d4037;font-size:14px;margin-bottom:5px}.inventory-total{font-size:12px;color:#8d6e63;margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid #d7ccc8}.inventory-flowers{display:flex;flex-direction:column;gap:6px}.inventory-item{display:flex;align-items:center;gap:8px}.inventory-icon{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:11px;font-weight:700}.inventory-name{font-size:12px;color:#5d4037;flex:1}.inventory-count{font-size:12px;color:#8d6e63;font-weight:700}@keyframes seedDrop{0%{transform:translateY(-50px) scale(.5);opacity:0}50%{transform:translateY(0) scale(1.2);opacity:1}70%{transform:translateY(-5px) scale(.9)}to{transform:translateY(0) scale(1);opacity:1}}@keyframes waterDrop{0%{transform:translateY(-30px);opacity:1}80%{opacity:1}to{transform:translateY(20px);opacity:0}}@keyframes bloom{0%{transform:translate(-50%) scale(0) rotate(-20deg);opacity:0}50%{transform:translate(-50%) scale(1.3) rotate(10deg)}70%{transform:translate(-50%) scale(.9) rotate(-5deg)}to{transform:translate(-50%) scale(1) rotate(0);opacity:1}}@keyframes bloomGlow{0%{box-shadow:0 0 #ffd70000}50%{box-shadow:0 0 20px 10px #ffd70080}to{box-shadow:0 0 #ffd70000}}@keyframes harvestFly{0%{transform:scale(1) translateY(0);opacity:1}to{transform:scale(0) translateY(-50px);opacity:0}}@keyframes popUp{0%{transform:translate(-50%) scale(.5);opacity:0}20%{transform:translate(-50%,-10px) scale(1.2);opacity:1}to{transform:translate(-50%,-40px) scale(1);opacity:0}}@keyframes toolGlow{0%,to{box-shadow:0 0 #4caf5000}50%{box-shadow:0 0 15px 5px #4caf5080}}@keyframes countPulse{0%{transform:scale(1)}50%{transform:scale(1.3);color:#4caf50}to{transform:scale(1)}}.pot-flower-image.blooming{animation:bloom .5s ease-out forwards,bloomGlow .8s ease-out .3s}.pot-status.bloomed{animation:popUp 1s ease-out forwards}.toolbar-btn-active{animation:toolGlow 1.5s ease-in-out infinite}.inventory-count.pulse{animation:countPulse .3s ease-out}@media (max-width: 480px){.game-content{padding:10px;padding-top:max(10px,env(safe-area-inset-top));padding-bottom:max(10px,env(safe-area-inset-bottom))}.toolbar{padding:8px 10px;gap:8px;max-width:100%;border-radius:10px}.toolbar-section{gap:5px}.toolbar-title{font-size:12px}.toolbar-flowers{gap:4px}.toolbar-flower{width:36px;height:36px}.toolbar-flower-name{font-size:7px}.toolbar-water,.toolbar-harvest{padding:6px 10px}.toolbar-water-icon{width:18px;height:18px}.toolbar-water span,.toolbar-harvest span{font-size:11px}.toolbar-harvest-icon{font-size:14px}.toolbar-current{font-size:10px;padding:3px 8px}.toolbar-clear{padding:3px 8px;font-size:10px}.toolbar-divider{height:30px}.garden-container{flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden}.pot-grid-wrapper{transform:scale(.75);transform-origin:center center}.pot{width:60px;height:68px}.pot-base{width:52px;height:52px}.pot-flower-image{width:40px;height:40px;bottom:20px}.pot-flower-image[src*=seed]{width:24px;height:24px;bottom:16px}.pot-flower-image[src*=growing],.pot-flower-image[src*=sprout]{width:32px;height:32px;bottom:22px}.pot-flower-image[src*=bloom]{width:44px;height:44px;bottom:24px}.pot-status{font-size:8px;padding:1px 5px;bottom:-3px}.pot-status-bloomed{font-size:11px}.inventory{position:absolute;top:8px;left:8px;right:auto;padding:8px 10px;min-width:100px;border-radius:10px}.inventory-title{font-size:12px}.inventory-total{font-size:10px;padding-bottom:5px;margin-bottom:5px}.inventory-icon{width:18px;height:18px;font-size:9px}.inventory-name,.inventory-count{font-size:10px}.game-hint{font-size:11px;padding:8px 12px;margin-top:5px}.drag-indicator{transform:translate(-50%,-50%) scale(.8)}.drag-seed{width:32px;height:32px;font-size:14px}.drag-water{width:40px;height:40px}.drag-water img{width:36px;height:36px}.picker-modal{padding:15px;border-radius:15px}.picker-title{font-size:16px;margin-bottom:15px}.picker-options{gap:8px}.picker-option{padding:12px}.picker-icon{width:36px;height:36px;font-size:16px}.picker-name{font-size:12px}}@media (max-width: 360px){.pot-grid-wrapper{transform:scale(.6)}}@media (orientation: landscape) and (max-height: 500px){.toolbar{flex-direction:row;padding:5px 10px;margin-bottom:5px}.toolbar-title{display:none}.pot-grid-wrapper{transform:scale(.65)}.inventory{top:5px;right:5px;padding:5px 8px}.game-hint{padding:5px;font-size:10px}}@supports (padding: max(0px)){.game-content{padding-left:max(10px,env(safe-area-inset-left));padding-right:max(10px,env(safe-area-inset-right))}.inventory-panel{padding-bottom:max(20px,env(safe-area-inset-bottom))}}.inventory-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;display:flex;align-items:flex-end;justify-content:center;z-index:200;animation:fadeIn .2s ease}.inventory-panel{background:#fffffffa;border-radius:20px 20px 0 0;width:100%;max-width:400px;max-height:70vh;padding:20px;box-shadow:0 -5px 30px #0003;animation:slideUp .3s ease;display:flex;flex-direction:column}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.inventory-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #e0e0e0}.inventory-title{font-size:18px;font-weight:700;color:#5d4037}.inventory-total{font-size:14px;color:#8d6e63;font-weight:500}.inventory-close{width:30px;height:30px;border:none;background:#f5f5f5;border-radius:50%;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#666}.inventory-close:hover{background:#e0e0e0}.inventory-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;overflow-y:auto;flex:1}.inventory-slot{aspect-ratio:1;background:#f5f5f5;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;border:2px solid transparent}.inventory-slot.has-item{background:#fff;border-color:#e0e0e0}.inventory-slot.empty{opacity:.5}.slot-icon{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px;font-weight:700;margin-bottom:4px}.slot-name{font-size:10px;color:#666}.slot-count{position:absolute;top:5px;right:5px;background:#4caf50;color:#fff;font-size:10px;font-weight:700;padding:2px 6px;border-radius:10px}.toolbar-tool{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:#f5f5f5;border:2px solid transparent;position:relative;transition:all .2s ease}.toolbar-tool:hover{background:#e8e8e8}.toolbar-tool-selected{border-color:#4caf50;background:#e8f5e9}.toolbar-tool-inventory{background:#fff3e0}.toolbar-tool-inventory:hover{background:#ffe0b2}.toolbar-icon{font-size:20px}.toolbar-badge{position:absolute;top:-5px;right:-5px;background:#e91e63;color:#fff;font-size:10px;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 4px}.toolbar-section-status{display:flex;align-items:center;gap:8px}.toolbar-current{font-size:12px;color:#2e7d32;background:#e8f5e9;padding:4px 10px;border-radius:15px}.toolbar-clear{width:24px;height:24px;border:none;background:#ffebee;border-radius:50%;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#c62828}.toolbar-clear:hover{background:#ffcdd2}.inventory,.inventory-title,.inventory-total,.inventory-flowers,.inventory-item,.inventory-icon,.inventory-name,.inventory-count{display:none!important}.harvest-effect{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:300}.harvest-particle{position:absolute;width:14px;height:14px;border-radius:50%;animation:flyToInventory .8s ease-out forwards}@keyframes flyToInventory{0%{transform:translate(-50%,-50%) scale(1);opacity:1}30%{transform:translate(-50%,-50%) scale(1.5);opacity:1}to{transform:translate(calc(-50% + var(--end-x, 0px)),calc(-50% + var(--end-y, -100px))) scale(.3);opacity:0}}.harvest-plus-one{position:fixed;font-size:28px;font-weight:700;color:gold;text-shadow:2px 2px 4px rgba(0,0,0,.3);animation:plusOneFly .6s ease-out forwards;z-index:301;pointer-events:none}@keyframes plusOneFly{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}20%{transform:translate(-50%,-50%) scale(1.3);opacity:1}to{transform:translate(-50%,calc(-50% - 30px)) scale(1);opacity:0}}
